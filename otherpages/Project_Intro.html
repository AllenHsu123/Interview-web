<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="Learning_Process-css.css">
    
</head>
<body>
    <main>
        <h2 class="back"><a href="../index.html">回首頁</a></h2>
        <section class="content">
            <div class="section-content wrapper-content">
                <div class="content-box">
                    <h2 class="content-box-title"><a href="#title">專案介紹: Beowulf's Last Battle</a></h2>
                    <h3 class="back_github"><a href="https://github.com/AllenHsu123/BritishLiterature-FinalProject-Beowulf">Beowuls's Last Battle Github連結</a></h3>
                    <h4 class="content-box-subtitle">重點整理</h4>
                    <p class="contentbox-text point ">這個遊戲算是第一個完全出自我的專案，從初期構想、功能規劃、流程控制到實作，整個遊戲花了我非常多的時間再找資料、學習及實作，非常辛苦，但同時也學到非常多東西。
                        除此之外，這遊戲也算是自從開始學習程式以來，一個比較完整的專案。當初會想學習程式其中一個原因就是想做遊戲，能夠學習這些技術，做出自己的遊戲，真的，非常棒。
                    </p>
                    <iframe width="560" height="315" src="https://www.youtube.com/embed/btpfBa-wnSk?si=TRhiYyFh6uHqBRME" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                    <h4 class="content-box-subtitle">玩法介紹</h4>
                    <p class="contentbox-text">1. 目標: 撐住不死，直到約4分鐘的大火球。<br>
                        2. 過程中會一直有火球降落，第2、3階段的火球會變大、變多<br>
                        3. 血量為30，每個火球皆是扣1，第2階段為扣2<br>
                        4. 第三階段的火球下落速度加快<br>
                        5. 最後會有大火球，在碰到大火球後遊戲結束，進入結局畫面<br>
                    </p>
                    <hr />
                    <h4 class="content-box-subtitle">功能介紹及如何實作</h4>
                    <p class="content-box-text">1.火球生成:<br><br>
                        火球是在遊戲中的攻擊，玩家必須去避免觸碰到火球。在一開始，遊戲區域上方(玩家看不到)有12顆火球，開始遊戲會以一定的速度下落。
                        當超過地板一定距離後(-7)或是玩家碰到火球，火球會Destory，並同時在遊戲區域上方的區域隨機生成。
                    </p>
                    <div class="image-container">
                        <img src="./專案介紹照片/火球Destory.png" alt="" class="content-box-img-1">
                        <span class="image-caption-1">火球Destory及生成</span>
                    </div>
                    <p class="content-box-text">2.火球機率調控:<br><br>
                        火球總共有6種+最後一顆大火球，前三種是從AssetStore抓下來的圖片，後三種是中和小火球的組合，所有火球皆是obstacle Mangerger的子物件。obstacle Mangerger其中一個腳本能夠輸入Prefab並變成類似陣列的資料。
                        當需要生成火球時，就在這組資料先隨機生成一個數字(總共十五個)，再去生成對應的火球，第一階段是0~7、第二階段是8~14。
                    </p>
                    <div class="image-container">
                        <img src="./專案介紹照片/火球Prefab.png" alt="" class="content-box-img-1">
                        <span class="image-caption-1">火球Prefab</span>
                    </div>
                    <div class="image-container">
                        <img src="./專案介紹照片/SpawnFloor函式說明.png" alt="" class="content-box-img-1">
                    </div>
                    <div class="image-container">
                        <img src="./專案介紹照片/調控火球生成.png" alt="" class="content-box-img-1">
                        <span class="image-caption-1">調控火球生成</span>
                    </div>
                    <p class="content-box-text">3. 各種Scene的轉換:<br><br>
                        除了遊戲本體外，還需要各種Scene來增加遊戲完整性，以這個遊戲來說，有遊戲開頭、遊戲本體、死亡畫面、結局畫面。Scene的轉換會需要一個函式叫SceneManager.LoadScene，他可以從目前的Scene轉換到另一個Scene。
                        遊戲的Scene安排:<br><br> 
                        開頭 - 遊戲本體  - 死亡畫面(死亡) - 遊戲本體<br>
                        or開頭 - 遊戲本體  - 結尾畫面(通關) - 開頭
                    </p>
                    <div class="image-container">
                        <img src="./專案介紹照片/SceneManager.LoadScene.png" alt="" class="content-box-img-1">
                    </div>    
                    <h4 class="content-box-subtitle">遇到的困難與解決方法</h4>
                    <p class="content-box-text">
                        由於很多功能都是先透過個別影片學習之後在實裝到遊戲本體裡，光是學習過程就困難重重，更不用說是裝到本體後產生的大大小的BUG或是其他問題。在製作這個遊戲時遇到的問題和困難真的是非常非常多，但慢慢處理問題，慢慢debug，真的找不出問題就用另外一種方式做出來。
                        最後還時把遊戲做出來了，真的學習到非常多的東西。<br><br>
                
                        我想介紹當時特別折磨我的遊戲機制: boss的階段轉換。<br><br>
                        在遊戲中，每個階段的攻擊、速度、扣的血量、和圖片也不一樣<br><br>
                        整理起來的話大概是:<br>
                        第一階段: 血量扣1、速度正常、小火球<br>
                        第二階段: 血量扣1、速度正常、大火球<br>
                        第三階段: 血量扣2、速度加倍、大火球<br>
                    </p>
                    <p class="content-box-text">
                        最一開始是使用Time.time來計時，他可以記錄從遊戲開始到現在有多少時間，而我設定第二階段為65秒，第三階段為126.5秒，也就是說只要Time.time超過了這些數值，其他東西也會跟改。
                        原本時做事沒問題的，直到加入了開頭畫面，我設定的秒數開始亂跑，經過一些觀察發現是計時的問題。前面講過Time.time是紀錄從遊戲開始到現在有多少時間，也就是說連待在開頭畫面時間。假設我在開頭待了20秒，第二和第三階段的時間就會提早20秒來，這樣就會讓時間沒法統一，所以在這邊沒辦法單純用Time.time超過了這些數值，其他東西也會跟改。
                        經過了一些時間的思考，我想到了另一個方式來計時: 我先記錄我在開頭畫面待了多久，第2、3階段再去減掉這個時間。例如說: 假設我在開頭畫面待了t秒，第2、3階段的時間就會是65+t和125.6t。
                        雖然說想法有了，但實作卻出了問題。由於這個計時涉及了Scene的轉換，需要不同的腳本來互相呼叫。但當時不知道出了甚麼問題，不管怎麼樣都取不到t，所以這個方法也行不通。(不過後來知道問題在哪了)
                    </p>
                    <div class="image-container">
                        <img src="./專案介紹照片/階段時間.png" alt="" class="content-box-img-1">
                        <span class="image-caption-1">當初忘了加static public</span>
                    </div>
                    <div class="image-container">
                        <img src="./專案介紹照片/計時.png" alt="" class="content-box-img-1">
                    </div>

                    <p class="content-box-text">
                        一時想不到解決辦法，所以我決定一邊做其他功能一邊查資料想方法，而這一卡就卡了快三個星期。<br><br>
                        直到遊戲快做完的時候我才找到了解決方法，也就是 Invoke這個函式。Invoke會把傳入的函式延後設定好的時間再執行，比如說 Invoke("phase1to2",65) 就是把phase1to2延後執行65秒。
                        還有另外一個Unity 設定的函式 Start，他會在每個Scene剛載入時執行，所以我只要再Start函式底下使用Invoke就能做到跟Time.time一樣的計時功能了。
                        這個卡了我三個星期的噩夢終於被解決了。
                    </p>
                    <div class="image-container">
                        <img src="./專案介紹照片/Invoke實作.png" alt="" class="content-box-img-1">
                        <span class="image-caption-1">Invoke實作，把phaseChanging延後執行timetext.phase2timing(65秒)</span>
                    </div>
                    
                </div>
            </div>
        </section>
    </main>
    
</body>
</html>